"use strict";(self["webpackChunkzhku"]=self["webpackChunkzhku"]||[]).push([[921],{9921:function(e,o,r){r.r(o),r.d(o,{default:function(){return u}});var t=function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("div",[r("el-form",{ref:"goods",staticClass:"demo-ruleForm",attrs:{model:e.goods,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"商品名称",prop:"gname"}},[r("el-input",{model:{value:e.goods.gname,callback:function(o){e.$set(e.goods,"gname",o)},expression:"goods.gname"}})],1),r("el-form-item",{attrs:{label:"发布者编号",prop:"uid"}},[r("el-input",{attrs:{readonly:""},model:{value:e.goods.uid,callback:function(o){e.$set(e.goods,"uid",o)},expression:"goods.uid"}})],1),r("el-form-item",{attrs:{label:"所属类别",prop:"cid"}},[r("el-input",{model:{value:e.goods.cid,callback:function(o){e.$set(e.goods,"cid",o)},expression:"goods.cid"}})],1),r("el-form-item",{attrs:{label:"价格",prop:"price"}},[r("el-input",{model:{value:e.goods.price,callback:function(o){e.$set(e.goods,"price",o)},expression:"goods.price"}})],1),r("el-form-item",{attrs:{label:"详情",prop:"remark"}},[r("el-input",{model:{value:e.goods.remark,callback:function(o){e.$set(e.goods,"remark",o)},expression:"goods.remark"}})],1),r("el-form-item",{attrs:{label:"发布时间",prop:"time"}},[r("el-input",{attrs:{readonly:""},model:{value:e.goods.time,callback:function(o){e.$set(e.goods,"time",o)},expression:"goods.time"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(o){return e.submitForm("goods")}}},[e._v("添加")]),r("el-button",{on:{click:function(o){return e.resetForm("goods")}}},[e._v("重置")])],1)],1)],1)},s=[],i={data:function(){return{goods:{gname:"",uid:null,cid:null,price:0,remark:"",time:this.getDate()},rules:{gname:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:1,max:12,message:"长度在 1 到 12 个字符",trigger:"blur"}],remark:[{required:!0,message:"请输入详情描述",trigger:"blur"},{min:0,max:40,message:"字数在0到40之间",trigger:"blur"}],cid:[{required:!0,message:"请输入类别",trigger:"blur"},{min:1,max:1,message:"填写在1到10之间",trigger:"blur"}]}}},methods:{submitForm:function(e){var o=this;this.$refs[e].validate((function(e){if(!e)return o.$message.error("修改失败"),!1;o.$axios.post("/admin/updateGoodsInfo",o.goods).then((function(e){o.$router.push("/findAllGoods"),o.$message({message:"修改成功",type:"success"})}))}))},resetForm:function(e){this.$refs[e].resetFields()},getDate:function(){var e=new Date;return e.toLocaleString()}},mounted:function(){this.goods.uid=localStorage.getItem("userId")}},l=i,a=r(1001),n=(0,a.Z)(l,t,s,!1,null,null,null),u=n.exports}}]);