"use strict";(self["webpackChunkzhku"]=self["webpackChunkzhku"]||[]).push([[102],{5102:function(e,s,t){t.r(s),t.d(s,{default:function(){return c}});var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"login"},[t("div",{staticClass:"index"},[e._m(0),t("div",{staticClass:"menu"},[t("div",{staticClass:"title-small hidden-md-and-up"},[e._v("校园二手交易平台")]),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v(e._s(0==e.isRegisterBtnClick?"登录":"注册"))]),t("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(s){return e.registerBtn()}}},[e._v(e._s(0==e.isRegisterBtnClick?"注册":"返回登录"))])],1),0==e.isRegisterBtnClick?t("el-form",{attrs:{model:e.user,"label-width":"60px"}},[t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.user.username,callback:function(s){e.$set(e.user,"username",s)},expression:"user.username"}})],1),t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{attrs:{placeholder:"请输入密码",type:"password","show-password":""},model:{value:e.user.password,callback:function(s){e.$set(e.user,"password",s)},expression:"user.password"}})],1),t("div",{staticClass:"option"},[t("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:function(s){return e.login()}}},[e._v("登录")])],1)],1):e._e(),1==e.isRegisterBtnClick?t("el-form",{attrs:{model:e.user,"label-width":"60px"}},[t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.newUser.username,callback:function(s){e.$set(e.newUser,"username",s)},expression:"newUser.username"}})],1),t("el-form-item",{attrs:{label:"密码"}},[t("el-input",{attrs:{placeholder:"请输入密码",type:"password","show-password":""},model:{value:e.newUser.password,callback:function(s){e.$set(e.newUser,"password",s)},expression:"newUser.password"}})],1),t("el-form-item",{attrs:{label:"确认"}},[t("el-input",{attrs:{placeholder:"请再次输入密码",type:"password","show-password":""},model:{value:e.newUser.confirmPwd,callback:function(s){e.$set(e.newUser,"confirmPwd",s)},expression:"newUser.confirmPwd"}})],1),t("div",{staticClass:"option"},[t("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary"},on:{click:function(s){return e.register()}}},[e._v("注册")])],1)],1):e._e()],1)],1)])])},a=[function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"picture hidden-sm-and-down"},[r("div",{staticClass:"title"},[e._v("校园二手交易平台")]),r("img",{attrs:{src:t(7901)}})])}],i={data:function(){return{isRegisterBtnClick:!1,user:{username:"123",password:"123"},newUser:{username:"",password:"",confirmPwd:"",code:""}}},methods:{login:function(){var e=this;this.$axios.post("/user/login",this.user).then((function(s){200==s.data.code?(e.$store.commit("setToken",s.data.token),e.$store.commit("setUserId",s.data.uid),e.$store.commit("setSuperuser",s.data.superuser),e.$router.push("/"),e.$message({type:"success",message:"欢迎来到仲园易易"})):e.$message.error("密码错误或账号不存在")}))},registerBtn:function(){this.isRegisterBtnClick=!this.isRegisterBtnClick},register:function(){var e=this;this.$axios.post("/user/register",this.newUser).then((function(s){200==s.data.code?(e.$message({message:"注册成功",type:"success"}),e.registerBtn(),e.user.username=e.newUser.username,e.user.password=e.newUser.password):e.$message.error("注册失败，用户名已存在")}))}}},n=i,l=t(1001),o=(0,l.Z)(n,r,a,!1,null,"1429f435",null),c=o.exports},7901:function(e,s,t){e.exports=t.p+"img/shopping.8c2795b4.png"}}]);