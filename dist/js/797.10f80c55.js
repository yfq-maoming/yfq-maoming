"use strict";(self["webpackChunkzhku"]=self["webpackChunkzhku"]||[]).push([[797],{797:function(t,s,o){o.r(s),o.d(s,{default:function(){return l}});var a=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"search"},[a("el-page-header",{attrs:{content:"搜索商品"},on:{back:t.goBack}}),a("div",{staticClass:"search-result"},[t.hasGoods?a("div",[a("el-row",t._l(t.goods,(function(s,o){return a("el-col",{key:s.gid,attrs:{span:8}},[a("el-card",{staticClass:"good-list-item",attrs:{"body-style":{padding:"0px"}}},[a("div",{staticClass:"img-box",on:{click:function(a){return t.showDetail(o,s)}}},[a("img",{staticClass:"image",attrs:{src:s.pic}})]),a("div",{staticStyle:{padding:"14px"},on:{click:function(a){return t.showDetail(o,s)}}},[a("span",[t._v(t._s(s.gname))]),a("div",{staticClass:"bottom clearfix"},[a("time",{staticClass:"desc"},[t._v(t._s(t._f("ellipsis_remark")(s.remark)))]),a("el-button",{staticClass:"button",attrs:{type:"text"}},[a("span",{staticStyle:{color:"rgb(42, 103, 45)","font-size":"18px"}},[t._v("￥"+t._s(s.price))])])],1)])])],1)})),1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":9,total:t.totalSort},on:{"current-change":t.pageSort}})],1)],1):a("div",{staticClass:"no-goods"},[a("img",{attrs:{src:o(2536),alt:"没有该商品"}}),a("div",[t._v("没有该商品")])])])],1)},e=[],i={data:function(){return{goods:[],input:"",hasGoods:!1,totalSort:0}},filters:{ellipsis_remark:function(t){return t?t.length>10?t.slice(0,10)+"...":t:""}},methods:{goBack:function(){this.$router.go(-1)},search:function(t){var s=this;this.$axios.get("/goods/getGoodsBySelect",{params:{keyword:t}}).then((function(t){s.goods=t.data.goods,s.goods.length>0&&(s.hasGoods=!0,s.totalSort=t.data.total,s.$store.dispatch("getGoodList",s.goods))}))},pageSort:function(t){var s=this;console.log("pageSort",t),this.$axios.get("/goods/ByPageindex",{params:{pageindex:t,pagesize:9}}).then((function(t){s.goods=t.data.goods,s.$store.dispatch("getGoodList",s.goods),console.log(s.$store.state.goodList)}))},showDetail:function(t,s){console.log("获取到了商品详情",t,s),this.$router.push({path:"/goodsDetail",query:{gid:s.gid}})}},watch:{$route:function(){var t=this.$route.query.input;this.search(t)}},created:function(){var t=this.$route.query.input;this.search(t)}},n=i,r=o(1001),c=(0,r.Z)(n,a,e,!1,null,"dd95b09e",null),l=c.exports},2536:function(t,s,o){t.exports=o.p+"img/no-goods.62dc7e87.png"}}]);